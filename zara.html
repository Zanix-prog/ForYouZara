<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For You ‚ù§Ô∏è</title>
  <style>
    html, body {
      width: 100vw;
      height: 100vh;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: #ffd1e1;
      overflow: hidden;
    }
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    *, *::before, *::after { box-sizing: inherit; }

    /* Preloader styles */
    #preloader {
      position: fixed;
      inset: 0;
      background: #ffd1e1;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9001;
      transition: opacity 0.7s, visibility 0.4s;
      opacity: 1;
      visibility: visible;
      flex-direction: column;
    }
    .mail-icon, .heart-icon {
      width: 105px;
      height: 105px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: transform 0.6s cubic-bezier(.25,1.5,.45,1.1);
      margin: 0 auto;
      user-select: none;
    }
    .mail-svg {
      width: 90px;
      height: 70px;
      display: block;
      fill: #FF77A9;
      filter: drop-shadow(0 2px 10px #fd7aac55);
      transition: opacity 0.5s;
      opacity: 1;
    }
    .heart-svg {
      width: 94px; height: 94px;
      display: block;
      fill: #ff4d88;
      opacity: 0;
      transform: scale(0.7);
      transition: opacity 0.5s, transform 0.8s cubic-bezier(.25,1.5,.45,1.1);
      filter: drop-shadow(0 2px 20px #fd7aac77);
      position: absolute; left: 0; top: 0;
      pointer-events: none;
    }
    .show-heart .mail-svg { opacity: 0; }
    .show-heart .heart-svg {
      opacity: 1;
      transform: scale(1.1);
      animation: popHeart 0.7s cubic-bezier(.25,1.5,.45,1.1) 1;
    }
    @keyframes popHeart {
      0% { transform: scale(0.7); }
      60% { transform: scale(1.20); }
      80% { transform: scale(0.9);}
      100%{ transform: scale(1.07);}
    }
    #preloader .txt {
      color: #e74d94;
      font-size: 1.2em;
      margin-top: 30px;
      font-weight: 500;
      letter-spacing: 0.02em;
    }

    /* Main content centered */
    #main-content {
      min-width: 375px;
      max-width: 380px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
      background: none;
      opacity: 0;
      transition: opacity 1s cubic-bezier(.2,1.18,.52,1);
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 2;
    }
    #main-content.visible { opacity: 1; }

    .center-card {
      background: #fff0fb;
      box-shadow: 0 20px 60px 5px #ff4d882c;
      border-radius: 24px;
      padding: 32px;
      max-width: 100%;
      width: 333px;
      margin: 0 auto;
      text-align: center;
      position: relative;
      animation: fadeCard 1.1s;
      transition: box-shadow 0.3s;
    }
    @keyframes fadeCard {
      from {opacity: 0; transform: scale(0.97);}
      to   {opacity: 1; transform: scale(1);}
    }
    h1 {
      color: #b30041;
      text-shadow: 0 0 10px #ff8aad33;
      font-size: 1.5em;
      font-family: inherit;
      margin-bottom: 15px;
      font-weight: 800;
      letter-spacing: 0.01em;
    }
    img.gif {
      width: 180px;
      background: #fff;
      border-radius: 16px;
      margin-bottom: 15px;
      box-shadow: 0 0 15px #ffd1e139;
    }
    #buttons {
      display: flex;
      justify-content: center;
      gap: 18px;
      margin-bottom: 22px;
    }
    button {
      padding: 13px 36px;
      font-size: 1.1em;
      border: none;
      border-radius: 11px;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: .015em;
      box-shadow: 0 4px 16px #ff6bba31;
      transition: background 0.2s, transform 0.18s;
    }
    .yes {
      background: #ff4d88;
      color: #fff;
      box-shadow: 0 0 14px #ff4d8875;
    }
    .yes:hover { background: #ff85a9; }
    .no {
      background: #520930;
      color: #fff0f2;
      box-shadow: 0 0 17px #580d3290;
    }
    .no:hover { background: #7a1751; }
    .hidden { display: none !important; }

    /* Slideshow styles and animated BG */
    #slideshow.center-card {
      margin-top: 25px;
      background: linear-gradient(120deg,#ffd1e1,#faaca8);
      animation: slideshowBG 8s linear infinite;
      box-shadow: 0 10px 37px 4px #ff64ab5b, 0 3px 11px #abf7e737;
      border-radius: 23px;
      padding: 20px 18px 20px 18px;
      width: 333px;
      min-height: 278px;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      transition: box-shadow 0.2s;
    }
    @keyframes slideshowBG {
      0%   {background: linear-gradient(120deg,#ffd1e1,#faaca8);}
      33%  {background: linear-gradient(120deg,#fafdd1,#d1faae);}
      66%  {background: linear-gradient(115deg,#fdffa1,#abffd3);}
      100% {background: linear-gradient(120deg,#ffd1e1,#faaca8);}
    }
    #photo {
      width: 145px;
      max-width: 80%;
      height: 175px;
      object-fit: cover;
      border-radius: 17px;
      margin-top: 15px;
      margin-bottom: 12px;
      box-shadow: 0 0 24px #ffc3db7b;
      background: #fff;
    }
    #caption {
      font-size: 1.22em;
      color: #ff3b82;
      font-family: inherit;
      font-weight: 600;
      margin-bottom: 10px;
      text-shadow: 0 0 12px #ffd1e1, 0 0 25px #ff4d8844;
      animation: glowCaption 2.7s ease-in-out infinite alternate;
      padding: 0 12px;
      line-height: 1.35;
      letter-spacing: 0.01em;
    }
    @keyframes glowCaption {
      from { text-shadow: 0 0 12px #ff6885, 0 0 35px #ffd1e1; }
      to   { text-shadow: 0 0 26px #fd7aac, 0 0 45px #ff4d88; }
    }

    @media (max-width:450px) {
      #main-content, .center-card, #slideshow.center-card { width: 99vw; min-width: unset; max-width: 99vw; padding: 6vw 3vw; }
      #photo { width: 72vw; min-width: 128px; }
    }
  </style>
</head>
<body>
  <!-- Preloader with mail icon morphing into heart -->
  <div id="preloader">
    <div id="mailHeart" class="mail-icon">
      <svg class="mail-svg" viewBox="0 0 90 70">
        <rect x="8" y="19" rx="13" ry="13" width="74" height="42" fill="#FF77A9"/>
        <polygon points="8,19 45,45 82,19" fill="#FFD1E1"/>
      </svg>
      <svg class="heart-svg" viewBox="0 0 94 94">
        <path d="M47 81 Q12 51 47 27 Q82 51 47 81Z" fill="#ff4d88"/>
      </svg>
    </div>
    <div class="txt">Click the mail to open your message!</div>
  </div>

  <div id="main-content" hidden>
    <!-- Question card -->
    <div id="questionCard" class="center-card">
      <h1 id="question"></h1>
      <img id="gif" class="gif" src="" alt="Gif" />
      <div id="buttons">
        <button class="yes" onclick="yesClicked()">Yes üíï</button>
        <button class="no" onclick="noClicked()">No üòí</button>
      </div>
    </div>
    <!-- Slideshow card -->
    <div id="slideshow" class="center-card hidden">
      <img id="photo" src="" alt="Photo"/>
      <p id="caption"></p>
    </div>
  </div>
  <script>
    // DATA
    const questions = [
      {q: "Do you like talking to me every day? üòä", gif: "GIFS/gif1.gif"},
      {q: "Would you miss me if I disappear for a day? üôÉ", gif: "GIFS/gif2.gif"},
      {q: "Am I a little cute sometimes? üò≥", gif: "GIFS/gif3.gif"},
      {q: "Do you enjoy my silly jokes? üòÖ", gif: "GIFS/gif4.gif"},
      {q: "Would you hold my hand if we were walking together? ü§ù", gif: "GIFS/gif5.gif"},
      {q: "Do you secretly like teasing me too? üòâ", gif: "GIFS/gif6.gif"},
      {q: "Can you imagine us watching sunsets together? üåÖ", gif: "GIFS/gif7.gif"},
      {q: "Would you mind if I always keep you blushing? üòö", gif: "GIFS/gif8.gif"},
      {q: "Will you let me steal your fries sometimes? üçü", gif: "GIFS/gif9.gif"},
      {q: "So‚Ä¶ will you be mine forever? üíç", gif: "GIFS/gif10.gif"}
    ];
    const photos = [
      {src: "GIFS/russian1.jpg", caption: "You are my only love üíñ"},
      {src: "GIFS/russian2.jpg", caption: "My world feels perfect with you üåé‚ú®"},
      {src: "GIFS/russian3.jpg", caption: "Forever yours ‚ù§Ô∏è"},
      {src: "GIFS/russian4.jpg", caption: "With you, I‚Äôve found home üè°üíï"}
    ];
    let qIndex = 0, pIndex = 0, emojisEnabled = true;
    // Preloader animation handling
    const mailHeart = document.getElementById('mailHeart');
    let heartShown = false;
    mailHeart.addEventListener('click', ()=>{
      if(heartShown) return;
      mailHeart.classList.add('show-heart');
      heartShown = true;
      setTimeout(()=>{
        document.getElementById('preloader').style.opacity = '0';
        setTimeout(() => {
          document.getElementById('preloader').style.visibility = 'hidden';
          const main = document.getElementById('main-content');
          main.hidden = false;
          setTimeout(()=>{main.classList.add('visible');},60);
          changeScene();
        }, 800);
      },800); // total preloader time
    });

    // Center cards at all times
    function centerCards() {
      document.getElementById('main-content').style.top = "50%";
      document.getElementById('main-content').style.left = "50%";
      document.getElementById('main-content').style.transform = "translate(-50%, -50%)";
    }
    window.addEventListener("resize", centerCards);
    window.addEventListener("DOMContentLoaded", centerCards);

    // Question/answer logic
    function changeScene() {
      document.body.style.background = '#ffd1e1';
      document.getElementById("questionCard").classList.remove("hidden");
      document.getElementById("slideshow").classList.add("hidden");
      document.getElementById("gif").src = questions[qIndex].gif;
      document.getElementById("question").innerText = questions[qIndex].q;
    }
    function yesClicked() {
      spawnEmojis(["‚ù§Ô∏è","üòç","ü•∞","üòò","üíï"]);
      nextQuestion();
    }
    function noClicked() {
      spawnEmojis(["üò°","üò≠","üò§","üíî","üò¢"]);
    }
    function spawnEmojis(emojis) {
      for (let i = 0; i < 13; i++) {
        const span = document.createElement("span");
        span.className = "emoji";
        span.innerText = emojis[Math.floor(Math.random() * emojis.length)];
        span.style.position = "fixed";
        span.style.left = Math.random() * window.innerWidth + "px";
        span.style.top = window.innerHeight + "px";
        span.style.fontSize = "2.3rem";
        span.style.zIndex = 9;
        document.body.appendChild(span);
        setTimeout(()=>span.remove(),1600 + Math.random()*1000);
        span.animate([
          {transform:"translateY(0)"},
          {transform:"translateY(-110vh)"},
        ], {
          duration: 1200 + Math.random()*700,
          easing: "cubic-bezier(.7,1.8,.3,1)"
        });
      }
    }
    function nextQuestion() {
      if (qIndex < questions.length - 1) {
        qIndex++;
        changeScene();
      } else {
        emojisEnabled = false;
        startSlideshow();
      }
    }
    // Slideshow background color animation (body changes during slideshow only)
    let bgInterval;
    function startSlideshow() {
      document.getElementById("questionCard").classList.add("hidden");
      document.getElementById("slideshow").classList.remove("hidden");
      pIndex = 0;
      animateBodyBG();
      showPhoto();
    }
    function animateBodyBG() {
      let colors = [
        'linear-gradient(120deg,#ffd1e1,#faaca8)',
        'linear-gradient(120deg,#fafdd1,#d1faae)',
        'linear-gradient(115deg,#fdffa1,#abffd3)'
      ];
      let index = 0;
      document.body.style.transition = 'background 2.2s ease';
      document.body.style.background = colors[0];
      bgInterval = setInterval(() => {
        index = (index + 1) % colors.length;
        document.body.style.background = colors[index];
      }, 2300);
    }
    function stopBodyBG() {
      clearInterval(bgInterval);
      document.body.style.background = '#ffd1e1';
    }
    function showPhoto() {
      if (pIndex < photos.length) {
        document.getElementById("photo").src = photos[pIndex].src;
        document.getElementById("caption").innerText = photos[pIndex].caption;
        pIndex++;
        setTimeout(showPhoto, 2700);
      } else {
        romanticEnding();
      }
    }
    function romanticEnding() {
      stopBodyBG();
      document.getElementById("caption").innerText = "Forever starts with YOU üíì";
    }
  </script>
</body>
</html>
